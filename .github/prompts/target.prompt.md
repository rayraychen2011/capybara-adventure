---
mode: agent
---

# 小鎮生活模擬器 - 專案規格書

## 📋 專案基本資訊

### 技術規格

- **開發語言**：Python
- **遊戲引擎**：Pygame
- **遊戲名稱**：小鎮生活模擬器

### 開發規範

- 嚴格遵循「程式碼開發風格指南」
- 使用幾何形狀暫代圖片素材
- 採用易維護、易理解的檔案架構
- 開發期間可進行功能測試，完成後移除測試檔案
- 除 README.md 外，不建立額外說明文件
- 不要建立 Python 虛擬環境，直接使用系統的 Python 環境即可

---

## 🎯 新增功能需求

### 職業與人口系統

- **玩家職業設定**：重新設計玩家職業系統，允許增加人口數量
- **NPC 互動介面**：當玩家與 NPC 互動時，在 NPC 上方顯示姓名與職業資訊

### 交通與道路系統

- **載具生成**：在街道上生成各種載具
- **道路設計**：
  - 劃出人行道與斑馬線
  - 設計彎曲的街道，避免過於方正的布局
- **交通規則**：每位 NPC 都須遵守交通規則
- **交通號誌**：在路口設置交通號誌，控制車輛與行人通行
- **載具種類**：新增多種載具類型，如汽車、卡車、摩托車等
- **載具行為**：載具會根據交通號誌與道路狀況行駛，並避讓行人
- **載具生成點**：在地圖邊緣設置載具生成點，載具會從這些點進入地圖並行駛
- **載具消失機制**：載具在行駛到地圖邊緣時會消失，避免過多載具堆積
- **載具速度**：不同載具有不同的行駛速度，影響交通流量

### 建築與城市規劃

- **功能性建築**：確保功能性建築在城市中平均分布
- **街道設計**：創造更自然的彎曲街道系統
