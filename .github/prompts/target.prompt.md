---
mode: agent
---

## 🎯 修改需求

目標：

- 放置住宅：住宅區每格放四個住宅單位。
- 將住宅區放滿（填滿整個住宅區格子）。
- 建築物不得重疊（需碰撞檢測）。
- NPC 會生成到各自的住宅中。
  - NPC 數量 = 住宅總數 - 1（保留一戶為玩家住宅）。
- 玩家會生成到玩家的住宅中（玩家佔用一戶）。
- 住宅內部要擺放家具（每間住宅有家具佈置）。
- 玩家住宅內部要有門可以進出（門允許玩家在內外切換）。

額外說明：

- 放置邏輯需保證唯一性與不可重疊。
- 生成順序與分配需明確：先放住宅、再配置家具、最後生成 NPC 與玩家並置入對應住宅。
- 停車場的車子不會重疊也不會超出格子，住宅也一樣。
