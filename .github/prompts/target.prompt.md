---
mode: agent
---

# 小鎮生活模擬器 - 專案規格書

## 📋 專案基本資訊

### 技術規格

- **開發語言**：Python
- **遊戲引擎**：Pygame
- **遊戲名稱**：小鎮生活模擬器

### 開發規範

- 嚴格遵循「程式碼開發風格指南」
- 使用幾何形狀暫代圖片素材
- 採用易維護、易理解的檔案架構
- 開發期間可進行功能測試，完成後移除測試檔案
- 除 README.md 外，不建立額外說明文件
- 不要建立 Python 虛擬環境，直接使用系統的 Python 環境即可

---

## 🎯 新增功能需求

### 職業與人口系統

- **玩家職業設定**：重新設計玩家職業系統，允許增加人口數量
- **NPC 互動介面**：當玩家與 NPC 互動時，在 NPC 上方顯示姓名與職業資訊

### 交通與道路系統

- **載具生成**：在街道上生成各種載具
- **道路設計**：

  - 劃出人行道與斑馬線
  - 設計彎曲的街道，避免過於方正的布局

- **交通規則**：每位 NPC 都須遵守交通規則
- **交通號誌**：在路口設置交通號誌，控制車輛與行人通行
- **載具種類**：新增多種載具類型，如汽車、卡車、摩托車等
- **載具行為**：載具會根據交通號誌與道路狀況行駛，並避讓行人
- **載具生成點**：在地圖邊緣設置載具生成點，載具會從這些點進入地圖並行駛
- **載具消失機制**：載具在行駛到地圖邊緣時會消失，避免過多載具堆積
- **載具速度**：不同載具有不同的行駛速度，影響交通流量

### 建築與城市規劃

- **功能性建築**：確保功能性建築在城市中平均分布
- **街道設計**：創造更自然的彎曲街道系統
- **建築多樣性**：增加建築物種類與外觀，提升城市多樣性
- **建築互動**：玩家可與特定建築互動，如商店
- **建築內部**：部分建築可進入內部，提供額外互動
- **建築狀態**：建築物會根據時間與事件改變狀態，如商店營業時間

### 經濟系統

- **市場交易系統**：設計一個市場系統，允許玩家買賣物品
- **稀有度定價算法**：根據物品稀有度調整價格
- **貨幣流通**：實現貨幣在遊戲中的流通機制
- **商店購買系統**：玩家可在商店購買物品

### 電力系統

- **區域劃分**：將地圖劃分為 30 個區域
- **電力員工分配**：每個區域分配 1 名電力員工
- **停電機制**：當員工住院時，該區域會停電
- **電力影響範圍**：停電會影響該區域內的建築與設施

### 死亡復活系統

- **醫院重生機制**：玩家死亡後可在醫院重生

### 時間系統

- **日夜循環**：實現遊戲內的日夜循環系統
- **時間影響**：時間會影響 NPC 行為與商店營業時間
- **星期系統**：新增星期系統，影響 NPC 行為與活動
- **工作日與休息日**：區分工作日與休息日，影響 NPC 行為模式
  - **工作日**：星期六與星期日為工作日，NPC 會去工作
  - **休息日**：星期一至星期五為休息日，NPC 到處亂晃
- **顯示時間**：在遊戲介面上顯示當前時間與星期資訊

### 其他功能

- **存活天數計算**：計算並顯示玩家的存活天數
- **任務系統**：設計一個任務系統，提供玩家挑戰與目標
- **存檔系統**：實現遊戲進度存檔與讀取功能
- **遊戲介面**：設計直觀的遊戲介面，顯示玩家資訊與遊戲狀態
- **音效與音樂**：加入背景音樂與音效，提升遊戲體驗
- **遊戲結束條件**：設計遊戲結束條件，如玩家破產或達成特定目標
- **遊戲教程**：提供遊戲教程，幫助新手玩家了解遊戲玩法
- **遊戲設定選單**：允許玩家調整音量、畫質等遊戲設定
- **多語言支援**：提供多種語言選項，方便不同語言玩家遊玩
- **成就系統**：設計成就系統，鼓勵玩家完成特定挑戰

---

## 🎮 遊戲概述

玩家可以在小鎮中自由探索、互動與生活，體驗豐富多彩的城市生活。
